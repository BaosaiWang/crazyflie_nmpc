SOURCES = [ 'acados_solver_sfunction_crazyflie.c ', ...
            'acados_solver_crazyflie.c ', ...
            'crazyflie_model/crazyflie_expl_ode_fun.c ', ...
            'crazyflie_model/crazyflie_expl_vde_forw.c ',...
            ];

INC_PATH = '/usr/local/include';

INCS = [ ' -I', INC_PATH, '/blasfeo/include/ ', ...
          '-I', INC_PATH, ' -I', INC_PATH, '/acados/ ', ...
          '-I', INC_PATH, '/qpOASES_e/' ];

CFLAGS  = ' -O';



LIB_PATH = '/usr/local/lib';

LIBS = '-lacados -lhpipm -lblasfeo -lqpOASES_e -lm'; 
    
eval( [ 'mex -v -output  acados_solver_sfunction_crazyflie ', ...
    CFLAGS, INCS, ' ', SOURCES, ' -L', LIB_PATH, ' ', LIBS ]);

disp( [ 'acados_solver_sfunction_crazyflie', '.', ...
    eval('mexext'), ' successfully created!'] );